services:
  api:
    build: .
    container_name: quiz-api
    ports:
      - "3050:3050"
    environment:
      # Server port
      - SERVER_PORT=3050

      # Datasource (adjust db name/user/pass)
      - SPRING_DATASOURCE_URL=jdbc:mysql://192.168.254.161:3306/quizdata?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC
      - SPRING_DATASOURCE_USERNAME=root
      - SPRING_DATASOURCE_PASSWORD=doogie1004

      # Optional: JPA/Hibernate behavior (safe for dev)
      - SPRING_JPA_HIBERNATE_DDL_AUTO=update
      - SPRING_JPA_SHOW_SQL=false
      # CORS/example envs if you use them
      # - CORS_ALLOWED_ORIGINS=http://localhost:5173

      # So 'host.docker.internal' works on Linux
    extra_hosts:
      - "host.docker.internal:host-gateway"
